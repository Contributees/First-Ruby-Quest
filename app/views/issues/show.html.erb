<div class="container mx-auto issue-page">
  <h1>Call for cooperation</h1>

  <div class="card-issue card-issue--call-to-action mt-4">
    <h2 class="my-3"><%= @issue.title %></h2>
    <p><%= @issue.description %></p>

    <div class="flex justify-between items-center mt-16">
      <div class="flex justify-between items-center">
        <p class="font-bold"><i class="fa-solid fa-user mr-4"></i><%= @issue_author %></p>
        <p class="ml-4 italic"> <%= @issue.created_at.strftime("%d of %B, %Y") %></p>
      </div>

      <div>
        <%= render "shared/button", text: "See Issue", path: @issue.url, color: "bg-primary", target_blank: true  unless @issue.url.blank?%>
        <%= render "shared/button", text: "See Repository", path: @issue.gh_url, color: "bg-success", target_blank: true  unless @issue.gh_url.blank?%>
      </div>
    </div>
  </div>
  <div>
    <h2>Add a comment</h2>
    <%= simple_form_for([@issue, @comment]) do |f| %>
      <%= f.input :content %>
      <%= f.submit class: "no-underline inline-flex items-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm bg-primary" %>
    <% end %>
  </div>

  <div>
    <% @comments.each do |comment| %>
      <div class="card-issue card-issue--call-to-action-comment mt-4">
        <div class="flex justify-between items-center mb-2">
        <h3>Reply from <%= comment.user.username %></h3>
        <p>On <%= comment.created_at.strftime("%d of %B, %Y at %I:%M %p") %></p>
        </div>
        <%= comment.content %>
      </div>
    <% end %>
  </div>
</div>
